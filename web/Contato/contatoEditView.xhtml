<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:b="http://bootsfaces.net/ui">


    <!-- Edição dos Contatos -->
    <p:dialog id="editContato"
              widgetVar="editContato"
              modal="true"                                     
              responsive="true"
              resizable="true"
              header="Editar Informações de Contato - #{vendedorView.vendedor.nome}">
        <b:panel id="panelEditContato">
            <h:form id="formEditContato">              
                <p:dataTable id="dataTableEditContato" 
                             widgetVar="dataTableEditContato"
                             var="contato" 
                             value="#{vendedorView.contatos}"                          
                             paginator="true"
                             rows="5"       
                             selection="#{vendedorView.contatosSelecionados}"
                             filteredValue="#{vendedorView.contatosFiltrados}"
                             emptyMessage="Nada encontrado."
                             rowKey="#{contato.id}"
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,15,25,50,100"
                             style="margin-bottom:0;">                        

                    <p:column selectionMode="multiple" 
                              style="width:1px; text-align:center"/>

                    <p:column headerText="Id" 
                              filterBy="#{contato.id}" 
                              sortBy="#{contato.id}" 
                              width="10" 
                              priority="3">
                        <h:outputText value="#{contato.id}" />
                    </p:column>

                    <p:column headerText="Tipo" 
                              filterBy="#{contato.descricaoContato}" 
                              filterMatchMode="contains"
                              sortBy="#{contato.descricaoContato}" 
                              width="10" 
                              priority="3">
                        <h:outputText value="#{contato.descricaoContato}" />
                    </p:column>

                    <p:column headerText="E-mail" 
                              filterBy="#{contato.email}" 
                              filterMatchMode="contains"
                              sortBy="#{contato.email}" 
                              width="30" 
                              priority="1">
                        <h:outputText value="#{contato.email}" />
                    </p:column>

                    <p:column headerText="Telefone" 
                              filterBy="#{contato.telefone}" 
                              filterMatchMode="contains"
                              sortBy="#{contato.telefone}" 
                              width="30" 
                              priority="1">
                        <h:outputText value="#{contato.telefone}" />
                    </p:column>

                    <p:column headerText="Endereço" 
                              filterBy="#{contato.endereco.endereco}" 
                              filterMatchMode="contains"
                              sortBy="#{contato.endereco.endereco}" 
                              width="50" 
                              priority="1">
                        <h:outputText value="#{contato.endereco.endereco}" />
                    </p:column>

                    <p:column headerText="CEP" 
                              filterBy="#{contato.endereco.cep}" 
                              filterMatchMode="contains"
                              sortBy="#{contato.endereco.cep}" 
                              width="10" 
                              priority="3">
                        <h:outputText value="#{contato.endereco.cep}" />
                    </p:column>

                    <p:column headerText="Cidade" 
                              filterBy="#{contato.endereco.cidade.cidade} #{contato.endereco.cidade.uf}" 
                              filterMatchMode="contains"
                              sortBy="#{contato.endereco.cidade.cidade} #{contato.endereco.cidade.uf}" 
                              width="10" 
                              priority="2">
                        <h:outputText value="#{contato.endereco.cidade.cidade} #{contato.endereco.cidade.uf}" />
                    </p:column>                

                    <p:column headerText="Principal" 
                              filterBy="#{contato.principal}" 
                              filterMatchMode="contains"
                              sortBy="#{contato.principal}" 
                              width="10" 
                              priority="2">
                        <h:outputText value="#{contato.principal}" />
                    </p:column>
                    <f:facet name="footer">
                        <p:commandButton icon="ui-icon-plus" 
                                         update="insertContato"
                                         actionListener="#{vendedorView.openDialogInsertContato()}"/>
                        <p:commandButton icon="ui-icon-pencil"
                                         update="dataTableEditContato, growl, insertContato"
                                         actionListener="#{vendedorView.openDialogEditContatoIndividual()}"/>
                        <p:commandButton icon="ui-icon-close"
                                         update="dataTableEditContato, growl"
                                         actionListener="#{vendedorView.deleteContato()}"/>
                    </f:facet> 
                </p:dataTable>            
            </h:form>
        </b:panel>
    </p:dialog>    
</ui:composition>